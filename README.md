# Музыка из ВК в Telegram
Бот для прослушивания музыки из ВК в телеграм

1. [Предыстория](#Предыстория)
2. [Возможности](#Возможности)
3. [Установка](#Установка)
4. [Настройка](#Настройка)
5. [Запуск](#Запуск)

## Предыстория
В мой тариф мобильного оператора входит безлимит на Telegram и безлимит на скорости 512 б/сек. Я заметил, что у Telegram скорость побольше, чем 512 б/сек. Слушать музыку из ВК не представлялось возможным из-за малой скорости. Так и появился этот бот.

## Возможности
1. Прослушивание музыки из `своей библиотеки`
3. Прослушивание музыки из `рекомендаций`
3. Прослушивание музыки из `недельного` и `дневного` плейлиса
4. Прослушивание `популярной` музыки
5. Прослушивание `новинок`
6. Управление своей библиотекой (`удаление` и `добавление`)
7. `Поиск` музыки
8. Дополнительные возможности (`решить пример`, безопасное `выполнение кода`)
9. **Полное** контролирование `прав для команд`
10. Распределение пользователей по `группам` (каждая группа имеет `свои права`)

## Установка
Скачать данный репозиторий командой:
```bash
git clone https://github.com/Keller18306/musicFromVK.git
```

Скачать необходимые модули:
```bash
npm i
```

Скачать TypeScript Node:
```bash
npm i -g ts-node
```

## Настройка
Нужно создать файл config.ts в корневой директории проекта с содержимым:
```typescript
import { Config } from './config.type'

export const config: Config = {
    tg_token: 'Токен от телеграм бота',
    vk_token: 'Токен от аккаунта вк'
}
```

## Запуск
Запустить бота можно следующей командой
```bash
ts-node .
```

Во время первого запуска в консоли будет выведено сообщение о настройке. Вам необходимо скопировать данную команду и отправить боту, чтобы вы получили полные права.
![setup cmd image](img/setup_cmd.png "/setup 68dbd51c135a619782813169ad6710254d3a20595e21de00")
![setup cmd image](img/setup_tg.png "/setup 68dbd51c135a619782813169ad6710254d3a20595e21de00")

> Данная команда будет работать для всех пользователей, пока бот не будет перезагружен.

## Описание кнопок
![buttons](img/buttons_info.png)

### Список музыки
```
1 - Страница назад
2 - Обновить страницу
3 - Текущий номер страницы
4 - Получить все песни из страницы
5 - Страница вперёд
```
### Аудиофайл
```
6 - Удалить из "моей музыки"
7 - Добавить в "мою музыку"
8 - Открыть похожую музыку
9 - Отправить событие о прослушивании (вероятнее всего вк это использует для формирования рекомендаций)
```
